version: 2

snapshots:
  - name: snapshot_cart_sessions
    relation: source('ssot','ssot__ShoppingCartEngagement__dlm')
    description:  "Cart Sessions Snapshot"
    config:
      strategy: timestamp
      unique_key: ssot__IndividualId__c
      updated_at: ssot__EngagementDateTm__c
      # check_cols: all # A 'timestamp' snapshot should not have 'check_cols'
      dbt_valid_to_current: "to_date('9999-12-31')"
      hard_deletes: new_record 
      snapshot_meta_column_names:
        dbt_valid_from: start_date
        dbt_valid_to: end_date
        dbt_scd_id: dbt_scd_id
    columns:
      - name: ssot__IndividualId__c
        quote: true
      - name: ssot__EngagementDateTm__c
        quote: true